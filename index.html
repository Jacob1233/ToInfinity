<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ToInfinity</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <style>
        html {
            height: 100%;
            width: 100%;
        }
        
        body {
            padding: 0;
            min-width: 1280px;
            min-height: 720px;
            background-color: #333;
            height: 100%;
        }
        
        iframe {
            margin-top: 52px;
            padding: 0;
            min-width: 1280px;
            width: 100%;
            min-height: 660px;
            height: 93%;
        }
    </style>
</head>

<body onload="init()">

    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">
                    ToInfinity
                </a>
            </div>
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-left">
                    <li><a href="#" id="next">Next</a></li>
                </ul>
                <form class="navbar-form navbar-left" action="#" onsubmit="save()">
                    <div class="form-group">
                        <input type="text" id="name" class="form-control" placeholder="Board Name">
                    </div>
                    <button type="submit" class="btn btn-default">Save</button>
                </form>

                <ul class="nav navbar-nav navbar-right">
                    <li><a href="#" id="instruct">Instructions</a></li>
                    <li><a href="#" id="clear">Clear</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Boards <span class="caret"></span></a>
                        <ul class="dropdown-menu boards">
                        </ul>
                    </li>
                </ul>

                <form class="navbar-form navbar-right" action="#" onsubmit="jump()">
                    <div class="form-group">
                        <input type="text" id="jname" class="form-control" placeholder="Board to jump to">
                    </div>
                    <button type="submit" class="btn btn-default">Jump</button>
                </form>
            </div>
        </div>
    </nav>

    <iframe src="https://8ch.net/random.php" frameborder="0"></iframe>


    <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="https://cdn.rawgit.com/js-cookie/js-cookie/master/src/js.cookie.js"></script>
    <script>
        $("#instruct").click(function () {
            alert("This is an 8chan board finder. Click next to get the next board and click save to add the board name to the list \nNote: Saved boards clear after a day since the last time you clicked save.");
        });

        function init() {
            if (Cookies.get('saved_boards') == null) {
                var array = new Array();
                Cookies.set('saved_boards', array, {
                    expires: 1
                });
            } else {
                var saves = Cookies.getJSON('saved_boards');
                for (var i = 0; i < saves.length; i++) {
                    $(".boards").append(`<li>${saves[i]}</li>`);
                }
            }
        }

        function save() {
            var name = $("#name").val();
            var saves = Cookies.getJSON('saved_boards');
            saves.push(name);
            Cookies.set('saved_boards', saves, {
                expires: 1
            });
            $("#name").val(" ");
            $(".boards").html(" ");
            for (var i = 0; i < saves.length; i++) {
                $(".boards").append(`<li>${saves[i]}</li>`);
            }
        }

        function jump() {
        var v = $('#jname').val();
        var str = `https://8ch.net/${v}`;
        $("iframe").attr('src', str);

        }

        $("#next").click(function () {

            $("iframe").attr('src', 'https://8ch.net/random.php');
        });

        $("#clear").click(function () {
            Cookies.remove('saved_boards');
            location.reload();
        });
    </script>
</body>

</html>
